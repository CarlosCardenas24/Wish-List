{% liquid
assign wish_counter = block.settings.product.metafields.custom.wish_counter.value
assign productID = product.id
assign productTitle = product.title
%}  

<span>
  <center>
    <a href="https://juno-merchants.myshopify.com/admin/apps/wish-list-fido-1/app/config">TEST LINK</a>
    <button id="addToWishList" name="addToWishList" class="button button--half-width button--secondary">
      <span>
        Add to wish List
      </span>
    </button>
  </center>
</span>

<script>  
  let wish_counter = '{{wish_counter}}'
  let productID = '{{productID}}'
  let productTitle = '{{productTitle}}'
  

  function counter () {
    wish_counter++
    console.log(wish_counter)
  }

  async function fetchPost () {
    const response = await fetch (`/app/config`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      }
    })
    const data = await response.json()
    console.log(data)
  };
  
  document.getElementById("addToWishList").addEventListener("click", fetchPost)

</script>

{% schema %}
{
  "name": "addToWishList",
  "target": "section",
  "enabled_on": {
      "templates": ["product"]
    },
  "settings": [
    { "type": "product", "id": "product", "label": "product", "autofill": true }
  ]
}
{% endschema %}